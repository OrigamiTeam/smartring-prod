\hypertarget{http__server_8h}{}\doxysection{main/include/http\+\_\+server.h File Reference}
\label{http__server_8h}\index{main/include/http\_server.h@{main/include/http\_server.h}}


HTTP Server header.  


\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{http__server_8h_af57500aece492c2bce91e883422241a5}\label{http__server_8h_af57500aece492c2bce91e883422241a5}} 
\#define {\bfseries HTTP\+\_\+\+SERVER\+\_\+\+TASK\+\_\+\+STACK\+\_\+\+SIZE}~8192
\begin{DoxyCompactList}\small\item\em Stack size for server task. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{http__server_8h_af7f4b4221a7a97273f140768f1cbe2ee}\label{http__server_8h_af7f4b4221a7a97273f140768f1cbe2ee}} 
\#define {\bfseries HTTP\+\_\+\+SERVER\+\_\+\+TASK\+\_\+\+PRIORITY}~4
\begin{DoxyCompactList}\small\item\em Priority of the server task. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{http__server_8h_a4e5a0220d5e4dda8620362b071c5be8e}\label{http__server_8h_a4e5a0220d5e4dda8620362b071c5be8e}} 
\#define {\bfseries HTTP\+\_\+\+SERVER\+\_\+\+TASK\+\_\+\+CORE\+\_\+\+ID}~0
\begin{DoxyCompactList}\small\item\em The task runs on the Core 0 (APP core) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9f}{smart\+\_\+ring\+\_\+provision\+\_\+status\+\_\+t}} \{ \mbox{\hyperlink{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9fac0081e28a29f9387eb68fd544a426a7a}{PROVISION\+\_\+\+CONNECTING}}
, \mbox{\hyperlink{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9fa8ef2328d7300801d4d226f431e206688}{PROVISION\+\_\+\+SUCCESSFUL}}
, \mbox{\hyperlink{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9fa39f3a0c7813c83b8af7f8f96505eacde}{PROVISION\+\_\+\+FAILED}}
 \}
\begin{DoxyCompactList}\small\item\em Status of the provision operation, to send to the user web browser. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{http__server_8h_a9fb8067f99901554a760651dc58e0ea9}{http\+\_\+server\+\_\+start}} ()
\begin{DoxyCompactList}\small\item\em Start the HTTP server (only if there is no no server running) and return the result of the operation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{http__server_8h_afffb5f05a179c9702078a824048dab36}{http\+\_\+server\+\_\+stop}} (void)
\begin{DoxyCompactList}\small\item\em Stop the HTTP server. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{http__server_8h_a7887781eef48c2a3592f137faff96f97}{provision\+\_\+set\+\_\+status}} (int state)
\begin{DoxyCompactList}\small\item\em Set the current provision state to the given one. Used by the wifi controller to send to client browser after provision. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{http__server_8h_abea8beefdf2d19e4253902e844487a20}{provision\+\_\+get\+\_\+status}} (void)
\begin{DoxyCompactList}\small\item\em Get the current provision status. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
HTTP Server header. 

\begin{DoxyAuthor}{Author}
David Abreu @ Quantum Leap (\href{mailto:david@quleap.com}{\texttt{ david@quleap.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
2.\+1.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2022-\/10-\/10
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2022 
\end{DoxyCopyright}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9f}\label{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9f}} 
\index{http\_server.h@{http\_server.h}!smart\_ring\_provision\_status\_t@{smart\_ring\_provision\_status\_t}}
\index{smart\_ring\_provision\_status\_t@{smart\_ring\_provision\_status\_t}!http\_server.h@{http\_server.h}}
\doxysubsubsection{\texorpdfstring{smart\_ring\_provision\_status\_t}{smart\_ring\_provision\_status\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9f}{smart\+\_\+ring\+\_\+provision\+\_\+status\+\_\+t}}}



Status of the provision operation, to send to the user web browser. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{PROVISION\_CONNECTING@{PROVISION\_CONNECTING}!http\_server.h@{http\_server.h}}\index{http\_server.h@{http\_server.h}!PROVISION\_CONNECTING@{PROVISION\_CONNECTING}}}\mbox{\Hypertarget{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9fac0081e28a29f9387eb68fd544a426a7a}\label{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9fac0081e28a29f9387eb68fd544a426a7a}} 
PROVISION\+\_\+\+CONNECTING&The device is trying to connecto to network with the given credentials. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{PROVISION\_SUCCESSFUL@{PROVISION\_SUCCESSFUL}!http\_server.h@{http\_server.h}}\index{http\_server.h@{http\_server.h}!PROVISION\_SUCCESSFUL@{PROVISION\_SUCCESSFUL}}}\mbox{\Hypertarget{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9fa8ef2328d7300801d4d226f431e206688}\label{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9fa8ef2328d7300801d4d226f431e206688}} 
PROVISION\+\_\+\+SUCCESSFUL&The device connected to the network. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{PROVISION\_FAILED@{PROVISION\_FAILED}!http\_server.h@{http\_server.h}}\index{http\_server.h@{http\_server.h}!PROVISION\_FAILED@{PROVISION\_FAILED}}}\mbox{\Hypertarget{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9fa39f3a0c7813c83b8af7f8f96505eacde}\label{http__server_8h_a986bcaf60b76f63b3711cd56dbf7ae9fa39f3a0c7813c83b8af7f8f96505eacde}} 
PROVISION\+\_\+\+FAILED&The device couldn\textquotesingle{}t connect to the network. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{http__server_8h_a9fb8067f99901554a760651dc58e0ea9}\label{http__server_8h_a9fb8067f99901554a760651dc58e0ea9}} 
\index{http\_server.h@{http\_server.h}!http\_server\_start@{http\_server\_start}}
\index{http\_server\_start@{http\_server\_start}!http\_server.h@{http\_server.h}}
\doxysubsubsection{\texorpdfstring{http\_server\_start()}{http\_server\_start()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t http\+\_\+server\+\_\+start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Start the HTTP server (only if there is no no server running) and return the result of the operation. 

\begin{DoxyReturn}{Returns}
esp\+\_\+err\+\_\+t -\/ Result of the creation of the HTTP server 
\end{DoxyReturn}
\mbox{\Hypertarget{http__server_8h_afffb5f05a179c9702078a824048dab36}\label{http__server_8h_afffb5f05a179c9702078a824048dab36}} 
\index{http\_server.h@{http\_server.h}!http\_server\_stop@{http\_server\_stop}}
\index{http\_server\_stop@{http\_server\_stop}!http\_server.h@{http\_server.h}}
\doxysubsubsection{\texorpdfstring{http\_server\_stop()}{http\_server\_stop()}}
{\footnotesize\ttfamily void http\+\_\+server\+\_\+stop (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Stop the HTTP server. 

\mbox{\Hypertarget{http__server_8h_abea8beefdf2d19e4253902e844487a20}\label{http__server_8h_abea8beefdf2d19e4253902e844487a20}} 
\index{http\_server.h@{http\_server.h}!provision\_get\_status@{provision\_get\_status}}
\index{provision\_get\_status@{provision\_get\_status}!http\_server.h@{http\_server.h}}
\doxysubsubsection{\texorpdfstring{provision\_get\_status()}{provision\_get\_status()}}
{\footnotesize\ttfamily int provision\+\_\+get\+\_\+status (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the current provision status. 

\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\mbox{\Hypertarget{http__server_8h_a7887781eef48c2a3592f137faff96f97}\label{http__server_8h_a7887781eef48c2a3592f137faff96f97}} 
\index{http\_server.h@{http\_server.h}!provision\_set\_status@{provision\_set\_status}}
\index{provision\_set\_status@{provision\_set\_status}!http\_server.h@{http\_server.h}}
\doxysubsubsection{\texorpdfstring{provision\_set\_status()}{provision\_set\_status()}}
{\footnotesize\ttfamily void provision\+\_\+set\+\_\+status (\begin{DoxyParamCaption}\item[{int}]{state }\end{DoxyParamCaption})}



Set the current provision state to the given one. Used by the wifi controller to send to client browser after provision. 


\begin{DoxyParams}{Parameters}
{\em state} & \\
\hline
\end{DoxyParams}
